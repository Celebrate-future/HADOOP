{"paragraphs":[{"text":"%md\n\n# Movielens Zeppelin Hive Dashboard\n","user":"admin","dateUpdated":"2018-10-26T21:58:30+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":true,"language":"markdown"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Movielens Zeppelin Hive Dashboard</h1>\n"}]},"apps":[],"jobName":"paragraph_1540591110007_469978637","id":"20181010-150009_1134051150","dateCreated":"2018-10-26T21:58:30+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:223"},{"text":"%jdbc(hive)\nCREATE database if not exists movielens;\nshow databases;","user":"admin","dateUpdated":"2018-10-26T21:58:59+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":{"1":{"graph":{"mode":"table","height":154,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"database_name\ndefault\ninformation_schema\nmovielens\nsys\n"}]},"apps":[],"jobName":"paragraph_1540591110013_-604467245","id":"20181010-150410_1628559872","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:224","dateFinished":"2018-10-26T21:59:11+0000","dateStarted":"2018-10-26T21:58:59+0000"},{"text":"%jdbc(hive)\nuse movielens;\n\ndrop table if exists movies;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS movies (\nMovieID STRING,\nTitle STRING,\nGenres STRING)\nROW FORMAT DELIMITED FIELDS TERMINATED BY '@'\nLOCATION '/user/hive/dane/movielens/hive/movies';\n\n\ndrop table if exists ratings;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS ratings (\nUserID STRING,\nMovieID STRING,\nRating STRING,\nRatingTime STRING)\nROW FORMAT DELIMITED FIELDS TERMINATED BY '@'\nLOCATION '/user/hive/dane/movielens/hive/ratings';\n\n\ndrop table if exists tags;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS tags (\nUserID STRING,\nMovieID STRING,\nTag STRING,\nTagTime STRING)\nROW FORMAT DELIMITED FIELDS TERMINATED BY '@'\nLOCATION '/user/hive/dane/movielens/hive/tags';\n","user":"admin","dateUpdated":"2018-10-26T22:11:32+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":{"4":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1540591110014_-1007153896","id":"20181010-150121_1920083710","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:225","dateFinished":"2018-10-26T22:11:32+0000","dateStarted":"2018-10-26T22:11:32+0000"},{"text":"%jdbc(hive)\nshow tables;","user":"admin","dateUpdated":"2018-10-26T22:07:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540591182104_601435412","id":"20181026-215942_1831362378","dateCreated":"2018-10-26T21:59:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3590","dateFinished":"2018-10-26T22:07:30+0000","dateStarted":"2018-10-26T22:07:29+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tab_name\nmovies\nratings\ntags\n"}]}},{"title":"Filmy","text":"%jdbc(hive)\nuse movielens;\n\nselect * from movies limit 10;","user":"admin","dateUpdated":"2018-10-26T22:07:33+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movies.movieid":"string","movies.title":"string","movies.genres":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"movies.movieid\tmovies.title\tmovies.genres\n1\tToy Story (1995)\tAdventure|Animation|Children|Comedy|Fantasy\n2\tJumanji (1995)\tAdventure|Children|Fantasy\n3\tGrumpier Old Men (1995)\tComedy|Romance\n4\tWaiting to Exhale (1995)\tComedy|Drama|Romance\n5\tFather of the Bride Part II (1995)\tComedy\n6\tHeat (1995)\tAction|Crime|Thriller\n7\tSabrina (1995)\tComedy|Romance\n8\tTom and Huck (1995)\tAdventure|Children\n9\tSudden Death (1995)\tAction\n10\tGoldenEye (1995)\tAction|Adventure|Thriller\n"}]},"apps":[],"jobName":"paragraph_1540591110014_559769995","id":"20181010-144845_1980610290","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:226","dateFinished":"2018-10-26T22:07:36+0000","dateStarted":"2018-10-26T22:07:34+0000"},{"title":"TOP 10 filmów wszech czasów","text":"%jdbc(hive)\nuse movielens;\n\nselect m.title, avg(r.rating) rate, count(1) votes\nfrom movies m\njoin ratings r on m.movieid = r.movieid\ngroup by m.title\nhaving votes > 100\norder by rate desc limit 10 ;\n","user":"admin","dateUpdated":"2018-10-26T22:07:41+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":false,"language":"sql"},"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"m.title":"string","rate":"string","votes":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"m.title\trate\tvotes\nShawshank Redemption, The (1994)\t4.457238321660348\t31126\nGodfather, The (1972)\t4.415085293227011\t19814\nUsual Suspects, The (1995)\t4.367142322253193\t24037\nSchindler's List (1993)\t4.363482949916592\t25777\nSunset Blvd. (a.k.a. Sunset Boulevard) (1950)\t4.321966205837174\t3255\nCasablanca (1942)\t4.319740945070761\t12507\nRear Window (1954)\t4.316543909348442\t8825\nDouble Indemnity (1944)\t4.315439034540158\t2403\nSeven Samurai (Shichinin no samurai) (1954)\t4.314119283602851\t5751\nThird Man, The (1949)\t4.313629402756509\t3265\n"}]},"apps":[],"jobName":"paragraph_1540591110015_345368555","id":"20181010-153403_633140318","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:227","dateFinished":"2018-10-26T22:08:03+0000","dateStarted":"2018-10-26T22:07:41+0000"},{"title":"Rozkład filmów w latach (według daty produkcji)","text":"%jdbc(hive)\nuse movielens;\n\nselect substring(title, -5, 4) year, count(*) ile\nfrom movies\ngroup by substring(title, -5, 4)\norder by ile desc;\n","user":"admin","dateUpdated":"2018-10-26T22:08:19+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":false,"language":"sql"},"colWidth":12,"editorMode":"ace/mode/sql","title":true,"results":{"1":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"year","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"ile","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"year\tile\n2002\t441\n2000\t405\n2001\t403\n1996\t384\n1998\t384\n1997\t370\n2003\t366\n2007\t364\n1995\t362\n1999\t357\n2006\t345\n2004\t342\n2005\t332\n1994\t307\n1993\t258\n2008\t251\n1988\t214\n1989\t212\n1992\t212\n1987\t205\n1990\t200\n1991\t188\n1981\t178\n1982\t170\n1986\t166\n1980\t161\n1985\t158\n1984\t137\n1983\t111\n1966\t87\n1979\t87\n1977\t83\n1972\t83\n1978\t82\n1973\t81\n1976\t75\n1974\t75\n1975\t74\n1971\t73\n1968\t72\n1965\t72\n1964\t72\n1970\t71\n1962\t69\n1967\t68\n1960\t66\n1969\t64\n1963\t63\n1957\t62\n1958\t62\n1959\t61\n1955\t57\n1961\t57\n1953\t55\n1956\t53\n1948\t46\n1951\t44\n1950\t44\n1954\t43\n1940\t40\n1952\t40\n1943\t40\n1947\t39\n1946\t38\n1942\t38\n1944\t37\n1939\t37\n1949\t37\n1945\t36\n1936\t32\n1937\t30\n1941\t28\n1933\t23\n1932\t22\n1938\t19\n1927\t19\n1934\t18\n1935\t18\n1931\t16\n1930\t15\n1926\t10\n1925\t10\n1928\t10\n1922\t7\n1929\t7\n1924\t6\n1923\t6\n1920\t5\n1919\t4\n1921\t3\n1918\t2\n1916\t2\n1917\t2\n1915\t1\n"}]},"apps":[],"jobName":"paragraph_1540591110016_327462882","id":"20181011-102050_1593980146","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:228","dateFinished":"2018-10-26T22:08:18+0000","dateStarted":"2018-10-26T22:08:16+0000"},{"title":"Liczba filmów według gatunku","text":"%jdbc(hive)\nuse movielens;\n\nselect q.genre as genre, count(1) as counted\nfrom (select explode(split(genres,\"\\\\|\")) AS genre from movies) q\ngroup by genre\norder by counted desc;\n","user":"admin","dateUpdated":"2018-10-26T22:13:39+0000","config":{"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","title":true,"results":{"1":{"graph":{"mode":"pieChart","height":458,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"genre","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"counted","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"genre\tcounted\nDrama\t5339\nComedy\t3703\nThriller\t1706\nRomance\t1685\nAction\t1473\nCrime\t1118\nAdventure\t1025\nHorror\t1013\nSci-Fi\t754\nFantasy\t543\nChildren\t528\nWar\t511\nMystery\t509\nDocumentary\t482\nMusical\t436\nAnimation\t286\nWestern\t275\nFilm-Noir\t148\nIMAX\t29\n(no genres listed)\t1\n"}]},"apps":[],"jobName":"paragraph_1540591110017_1237664769","id":"20181011-102235_1387752112","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:229","dateFinished":"2018-10-26T22:08:24+0000","dateStarted":"2018-10-26T22:08:22+0000"},{"title":"Oceny w latach","text":"%jdbc(hive)\nuse movielens;\n\nselect year(from_unixtime(cast(RatingTime as bigint))) as years, count(*) as ile\nfrom ratings\ngroup by year(from_unixtime(cast(RatingTime as bigint)))\norder by years\nlimit 10;\n","user":"admin","dateUpdated":"2018-10-26T22:12:28+0000","config":{"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":6,"editorMode":"ace/mode/sql","title":true,"results":{"1":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"years","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"ile","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"fontSize":9,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540591110018_-1015373876","id":"20181011-102329_1687831681","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:230","dateFinished":"2018-10-26T22:11:52+0000","dateStarted":"2018-10-26T22:11:42+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"years\tile\n1995\t3\n1996\t1047618\n1997\t459947\n1998\t202092\n1999\t788793\n2000\t1271623\n2001\t759141\n2002\t583409\n2003\t688694\n2004\t768168\n"}]}},{"title":"Tagi w latach","text":"%jdbc(hive)\nuse movielens;\n\nselect year(from_unixtime(cast(tagtime as bigint))) as year, count(*) as ile\nfrom tags\ngroup by year(from_unixtime(cast(tagtime as bigint)))\norder by year\nlimit 10;\n","user":"admin","dateUpdated":"2018-10-26T22:12:36+0000","config":{"editorSetting":{"editOnDblClick":false,"language":"sql","completionSupport":true},"colWidth":6,"editorMode":"ace/mode/sql","editorHide":false,"title":true,"results":{"1":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"year","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"ile","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"year\tile\n2005\t38\n2006\t36163\n2007\t36395\n2008\t22674\n2009\t310\n"}]},"apps":[],"jobName":"paragraph_1540591110018_281066740","id":"20181011-102536_562122210","dateCreated":"2018-10-26T21:58:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:231","dateFinished":"2018-10-26T22:12:14+0000","dateStarted":"2018-10-26T22:11:51+0000"},{"user":"admin","dateUpdated":"2018-10-26T21:58:30+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"scala","completionKey":"TAB","completionSupport":true},"fontSize":9},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540591110019_-371628498","id":"20181011-102608_406183225","dateCreated":"2018-10-26T21:58:30+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:232"}],"name":"Movielens","id":"2DTUB73ER","noteParams":{},"noteForms":{},"angularObjects":{},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}